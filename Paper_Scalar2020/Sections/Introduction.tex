\section{Introduction} \label{sec:Intro}

\tstk{This section includes our literature review and motivation.
The purpose of the paper is to present the equations that were derived for the TFR/curl-curl system as what can be interpreted as an "effective" or "limit" problem for a fine/thin-structure material.
This is subject to future advances in the field that draw parallel to the scalar-case developments, of course.
This text should be deleted upon completion of the LitReview.}

\subsection{Lit Review} \label{ssec:LitReview}

\subsection{Physical motivation} \label{ssec:PhysMot}
The problem we consider in the present work is motivated by the desire to study wave propagation in a medium that exhibits a periodic (micro) structure.
Understanding the behaviour of waves in such media has applications to photonic crystals, but also extends broadly into the study of wave behaviour in an elastic setting (see section \ref{ssec:LitReview}), although our motivations largely stem from the former.
One starting point for the study of such phenomena is the wave equation;
\begin{align} \label{eq:DimensionalWaveEqn}
	-A \laplacian u &= f^2 \rho u,
\end{align}
where $f$ is the frequency of a propagating wave, and $A$, $\rho$ are the material properties of the medium that \eqref{eq:DimensionalWaveEqn} is posed in.
For example, when studying the transverse magnetic mode of electromagnetic waves, $u$ represents the (transverse) electric field, $A$ the inverse of the electric permittivity of the medium and $\rho$ the magnetic permeability of the medium.
It is convenient to non-dimensionalise \eqref{eq:DimensionalWaveEqn} by introducing the dimensionless variable $y=lx$, where $l>0$ is the (spatial) extent of the medium, obtaining
\begin{align} \label{eq:NonDimensionalWaveEqn}
	-\laplacian_{y} U(y) = z U(y), &\quad z = \frac{\bracs{fl}^2 \rho }{A}.
\end{align}
Here $U\bracs{y} = u\bracs{y,l}$, and the parameter $z$ represents the square of the ratio of the spatial extent of the medium against the wavelength of propagating waves, up to a constant.
In the context of electromagnetic waves for example, we have $z = \frac{\bracs{fl}^2 \eps_\mathrm{r}\mu_\mathrm{r}}{c^2}$ where $\eps_\mathrm{r}$ and $\mu_\mathrm{r}$ are the medium's relative permittivity and relative permeability (respectively) of the material, and $c$ is the speed of light in vacuum, see \cite{jackson1999classical, cessenat1996mathematical}.
To avoid additional notational clutter in equations, we will write $\omega^2 := z$ where convenient throughout this work.
This also retains an intuitive link to applications: the spectrum (that is, the set of $z=\omega^2$ in \eqref{eq:DimensionalWaveEqn} that are allowed in some sense) essentially provides access to the frequencies of waves that can propagate in the singular-structures we examine (by ``re-dimensionalising" $z$ via \eqref{eq:NonDimensionalWaveEqn}), which determines the use of the structure itself as a waveguide.
Our focus will be on quantitatively encapsulating the structure of the spectrum for all problems of the form \eqref{eq:DimensionalWaveEqn} on the class of domains that we consider.

The interest in studying problems like \eqref{eq:NonDimensionalWaveEqn} on ``singular structures" stems from an association between quantum graphs (section \ref{sec:QuantumGraphs}) and traditional PDE-problems on thin domains.
We outline this connection below, but for mathematically precise statements concerning what follows, the interested reader can find details in \cite{exner2005convergence, kuchment2001convergence}.
Consider a (periodic) domain $D_{l,r}$ in $\reals^2$ whose unit cell consists of a union of ``tube regions" of width $l>0$, connected by circular ``junction regions" of radius $r>0$, schematically illustrated in figure \ref{fig:Diagram_ThinStructurePeriodCell}.
\begin{figure}[b!]
	\begin{subfigure}[t]{0.45\textwidth}
		\centering
		\includegraphics[scale=0.85]{Diagram_ThinStructurePeriodCell.pdf}
		\caption{\label{fig:Diagram_ThinStructurePeriodCell} Schematic illustration of the period cell of a ``thin structure" domain $D_{l,r}$, broken into ``tube"- and ``junction"-regions.}
	\end{subfigure}
	~
	\begin{subfigure}[t]{0.45\textwidth}
		\centering
		\includegraphics[scale=0.85]{Diagram_SingularStructurePeriodCell.pdf}
		\caption{\label{fig:Diagram_SingularStructurePeriodCell} The singular structure (represented as a graph) that the domain $D_{l,r}$ shrinks to as $l,r\rightarrow0$.}
	\end{subfigure}
	\caption{\label{fig:Diagram_ThinToSingular} Illustration of the (period cell of a) domain $D_{l,r}$, broken into ``tube"- and ``junction"-regions. As $l,r\rightarrow0$, visually the 2D structure in \ref{fig:Diagram_ThinStructurePeriodCell} shrinks to that in \ref{fig:Diagram_SingularStructurePeriodCell}. One then asks whether there is a quantum graph that makes this ``visual limit" $l,r\rightarrow0$ formal, which is the work of \cite{exner2005convergence, kuchment2001convergence}.}
\end{figure}
The domain $D_{l,r}$ represents a (periodic) structure similar to that of a 2D photonic crystal, or the cross-section of a (photonic crystal) optical fibre.
Now consider a differential operator such as \eqref{eq:NonDimensionalWaveEqn} \tstk{(but in general of the form $-\grad\bracs{A\grad u}$ for elliptic $A$?)} on $D_{l,r}$, complimented by suitable boundary conditions.
For each $l$ and $r$, this operator has a spectrum $\sigma_{l,r}$, and one can ask what happens to $\sigma_{l,r}$ as $l,r\rightarrow0$.
The result of $\lim_{l,r\rightarrow0}\sigma_{l,r}$ can be obtained from studying a quantum graph that mimics the geometry of $D_{l,r}$ --- replacing the ``tubes" with edges and ``junctions" with vertices.
The appropriate coupling constants for said quantum graph depends on how the area of the ``tube regions" scales with that of the ``junction regions".
This result was shown via \tstk{norm-resolvent analysis? How to summarise KZ/EP \cite{exner2005convergence, kuchment2001convergence} in $<3$ words! also should mention the resolvent problem too, although we are only interested in the spectral problem here}, and gives foundation to the idea that quantum graphs can serve as ``approximations" to models for wave propagation on thin structure materials.
This is an intuitively appealing idea --- that ``very thin" domains $D_{l,r}$ are well-approximated by the ``infinitely thin" graphs that they shrink to as $l,r\rightarrow0$.
Difficulty arises in determining what the appropriate \emph{quantum graph} is for a given thin structure; the arguments in \cite{exner2005convergence, kuchment2001convergence} show that $\lim_{l,r\rightarrow0}\sigma_{l,r}$ exists, and happens to coincide with the spectrum of a quantum graph, but this quantum graph has to be known a priori.
Coming up with this a priori candidate can be difficult, largely because one needs an idea for what the appropriate 1D analogue of the 2D differential operator should be.
For gradients this is intuitive, the 2D gradient has the 1D derivative as a natural analogue, and this is what appears in place of the gradient in the ``approximate" quantum graph.
However, operators such as the curl or divergence lack an intuitive 1D analogue, so it is not clear how they should be ``approximated" in a quantum graph problem.
This is where the measure-theoretic (``singular structure") problem that we take as our starting point links in.
The analysis of such problems provides us with a method of accessing the appropriate quantum graph (section \ref{sec:SystemDerivation}), and in this work we will demonstrate the connection between problems on thin structures, singular structures, and quantum graphs.


\subsection{Problem formulation} \label{ssec:OurSystem}
We shall now outline the problem to be addressed.
The reader may wish to refer to section \ref{sec:QuantumGraphs} and the appendix (\ref{app:SingularMeasures} through \ref{app:SumMeasureAnalysis}) for a precise description of the objects that are mentioned in the discussion below. 

We study equations of the form \eqref{eq:NonDimensionalWaveEqn} on singular domains, that is domains which have no interior from the perspective of the space they are embedded into.
We represent such a singular structure by a graph $\graph$ in $\reals^2$, which we will assume to be periodic in the sense that there exists a region (period cell) $\ddom\subset\reals^2$ and vectors $p_1, p_2$ such that for any $c\in\integers$ the part of $\graph$ contained in the shifted regions $\ddom+c p_1$ and $\ddom+c p_2$ coincides with the part of $\graph$ contained in $\ddom$.
We call this part of $\graph$ in $\ddom$ the \emph{period graph} of $\graph$, and denote it by $\graph_{\mathcal{P}}=\bracs{\vertSet, \edgeSet}$, where $\vertSet$ is a finite set of vertices and $\edgeSet$ a finite set of edges.
For the singular structure above define the Laplacian $-\laplacian_{\dddmes}$, and consider the ``spectral problem"
\begin{align} \label{eq:WholeSpaceLaplaceEqn}
	-\laplacian_{\dddmes} u &= \omega^2 u.
\end{align}
Here the subscript $\dddmes$ stands for the sum of the singular measure supported by $\graph$ and point mass measures at centred at the vertices of $\graph$, the details of which are available in the appendix (section \ref{app:SingularMeasures}).
It is convenient to replace \eqref{eq:WholeSpaceLaplaceEqn} with a family of problems on $\ddom$ parametrised by $\qm$ (the ``quasi-momentum") which varies over the dual-cell of $\ddom$.
This provides us with a family of problems involving ``$\qm$-shifted" gradients $\tgrad_{\dddmes}$,
\begin{align} \label{eq:PeriodCellLaplaceStrongForm}
	-\bigl(\tgrad_{\dddmes}\bigr)^2 u &= \omega^2 u, \quad\text{in } \ddom,
\end{align}
where $\tgrad_{\dddmes} = \grad_{\dddmes} + \rmi\qm$ acts component-wise.
The link between \eqref{eq:WholeSpaceLaplaceEqn} and \eqref{eq:PeriodCellLaplaceStrongForm} is established by means of a version of the so-called Gelfand transform \cite{gelfand1950expansion}
\begin{align*}
	\hat{u}\bracs{x} &= \sum_{z_1,z_2\in\integers^2}u\bracs{x+zp_1+zp_2}\e^{-\rmi\qm\bracs{x+zp_1+zp_2}}.
\end{align*}
It can then be shown that the problems \eqref{eq:PeriodCellLaplaceStrongForm} can be written in the following form (see section \ref{sec:SystemDerivation}):
\begin{subequations} \label{eq:QGFullSystem}
	\begin{align}
		-\bracs{\diff{}{x} + \rmi\qm_{jk}}^2 \tilde{u}_{jk} = \omega^2 \tilde{u}_{jk}, &\quad x\in\interval{I_{jk}}, \quad \forall I_{jk}\in \edgeSet, \label{eq:QGEdgeODEs} \\
		u \text{ is continuous at each } &v_j \in \vertSet, \label{eq:QGVertCty}\\
		\sum_{j\con k}\bracs{\pdiff{}{n} + \rmi\qm_{jk}}\tilde{u}_{jk}\bracs{v_j} &= \omega^2\alpha_{j}u\bracs{v_j}, \quad \forall v_j \in \vertSet, \label{eq:QGDerivCondition}
	\end{align}
\end{subequations}
where $\alpha_j\in\complex$ are suitable ``coupling constants" at the vertices, and $\qm_{jk}$ are effectively rotations of $\qm$ which can be computed if one knows the orientation of the edge $I_{jk}\in\vertSet$.
Subscripts $jk$ in \eqref{eq:QGFullSystem} denote restrictions to the edges of $\graph_{\mathcal{P}}$, and the notion of the ``signed derivative" $\pdiff{}{n}$ is defined in section \ref{ssec:FunctionSpaces}.
Problems like \eqref{eq:QGFullSystem} belong to the class of problems with generalised resolvents, since the spectral parameter $\omega^2$ appears in the boundary condition \eqref{eq:QGDerivCondition} \cite{strauss1954generalized, strauss1968extensions, strauss1998functional, cherednichenko2018effective}.
The coupling constants $\alpha_j$ may be complex-valued, are typically chosen retain links to physical applications.
Our interest lies in those problems for which $\Re\bracs{\alpha_j}>0$ (ensuring causality in physical settings) and $\Im\bracs{\alpha_j}=0$.
Taking $\Im\bracs{\alpha_j}>0$ (respectively $\Im\bracs{\alpha_j}<0$) would correspond to placing an energy sink (respectively source) at the vertex $v_j$.

In the work which follows we provide an overview of how \eqref{eq:QGFullSystem} can be obtained from \eqref{eq:PeriodCellLaplaceStrongForm} in section \ref{sec:SystemDerivation}, with details in appendices \ref{app:muAnalysis}-\ref{app:SumMeasureAnalysis}.
We then provide an explicit expression for the $M$-matrix of \eqref{eq:QGFullSystem} in section \ref{sec:Discussion}, and discuss the methodology and some considerations for using it to analyse the spectrum of of \eqref{eq:QGFullSystem}.
These methods and considerations are then explored in a selection of examples in section \ref{sec:Examples}, before concluding with a discussion of some of the open questions touched on by this work.